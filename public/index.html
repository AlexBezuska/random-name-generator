<!doctype html>
<html class="no-js" lang="">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Duolastic Name Generator</title>
  <meta property="og:title" content="Duolastic Name Generator" />
 <meta property="og:type" content="website" />
 <meta property="og:url" content="http://www.duolastic-namegen.twoscoopgames.com" />
 <meta property="og:image" content="http://duolastic-namegen.twoscoopgames.com/img/logo.png" />
 <meta name="description" content="A fun user and location name generator designed for the game Duolastic by Two Scoop Games!">
 <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">

  <link rel="stylesheet" href="main.css">
</head>
<body>
  <div class="container">
  <img src="/img/logo.png" class="logo" title="Duolastic Name Generator"/>
  <h2 class="text-center"> User and location name generator </h2>
  <p class="text-center">A fun username and location name generator designed for the game Duolastic by Two Scoop Games!</p>


      <div class="form">
          <div class="name" id="usernameDisplay"></div>
          <button id="usernameBtn">Generate username</button>
      </div>

      <div class="form">
          <div class="name" id="locationDisplay"></div>
          <button id="locationBtn">Generate location</button>
      </div>

  
<p>2017 <a href="http://twoscoopgames.com">Two Scoop Games</a> <a href="http://alexbezuska.com">Alex Bezuska</a> - Open Source on <a href="https://github.com/TwoScoopGames/Duolastic-name-generator"> Github</div></p>
  </div>
</body>

<script>
preFill();

uiSetup("usernameBtn", "usernameDisplay", "/username");
uiSetup("locationBtn", "locationDisplay", "/location");

function preFill(){
  getJSON("/username", function(err, data) {
    dataOrError(err, data, "usernameDisplay");
  });
  getJSON("/location", function(err, data) {
    dataOrError(err, data, "locationDisplay");
  });
}

function uiSetup(buttonId, textfieldId, url){
  document.getElementById(buttonId).addEventListener('click', function() {
    getJSON(url, function(err, data) {
      dataOrError(err, data, textfieldId)
    });
  });
}

function dataOrError(err, data, textfieldId) {
  if (err != null) {
    alert('Something went wrong: ' + err);
  } else {
    document.getElementById(textfieldId).innerText = data;
  }
}

function getJSON(url, callback) {
    var xhr = new XMLHttpRequest();
    xhr.open('get', url, true);
    xhr.responseType = 'json';
    xhr.onload = function() {
      var status = xhr.status;
      if (status == 200) {
        callback(null, xhr.response);
      } else {
        callback(status);
      }
    };
    xhr.send();
};

</script>
</html>